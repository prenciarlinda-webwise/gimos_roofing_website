---
const navLinks = [
  { name: "Home", href: "/" },
  { name: "Services", href: "/services", hasDropdown: true },
  { name: "Service Areas", href: "/service-areas" },
  { name: "About", href: "/about" },
  { name: "Gallery", href: "/gallery" },
  { name: "Blog", href: "/blog" },
  { name: "Contact", href: "/contact" },
];

const roofingLinks = [
  { name: "New Construction", href: "/services/new-construction-roofing" },
  { name: "Roof Replacement", href: "/services/roof-replacement" },
  { name: "Roof Repair", href: "/services/roof-repair" },
  { name: "Commercial Roofing", href: "/services/commercial-roofing" },
];

const sidingLinks = [
  { name: "Siding Installation", href: "/services/siding-installation" },
  { name: "Siding Repair", href: "/services/siding-repair" },
];

const serviceLinks = [...roofingLinks, ...sidingLinks];
---

<header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300" id="main-header">
  <!-- Top Bar -->
  <div class="bg-secondary text-white py-2 hidden md:block">
    <div class="max-w-7xl mx-auto px-4 flex justify-between items-center text-sm">
      <div class="flex items-center gap-6">
        <a href="tel:+19046065313" class="flex items-center gap-2 hover:text-primary transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg>
          (904) 606-5313
        </a>
        <span class="flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          Mon-Sat: 8:00 AM - 5:30 PM
        </span>
      </div>
      <div class="flex items-center gap-4">
        <a href="https://www.facebook.com/gimosrenovation/" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition-colors" aria-label="Facebook">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M18.77,7.46H14.5v-1.9c0-.9.6-1.1,1-1.1h3V.5L14.5.5C10.6.5,9.77,3.3,9.77,5.47V7.46H7v4h2.77v10h4.73v-10h3.19l.38-4Z"/></svg>
        </a>
        <a href="https://www.instagram.com/gimosroofing/" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition-colors" aria-label="Instagram">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12,2.16c3.2,0,3.58,0,4.85.07,3.25.15,4.77,1.69,4.92,4.92.06,1.27.07,1.65.07,4.85s0,3.58-.07,4.85c-.15,3.23-1.66,4.77-4.92,4.92-1.27.06-1.65.07-4.85.07s-3.58,0-4.85-.07c-3.26-.15-4.77-1.7-4.92-4.92-.06-1.27-.07-1.65-.07-4.85s0-3.58.07-4.85C2.38,3.92,3.9,2.38,7.15,2.23,8.42,2.18,8.8,2.16,12,2.16ZM12,0C8.74,0,8.33,0,7.05.07c-4.35.2-6.78,2.62-7,7C0,8.33,0,8.74,0,12s0,3.67.07,4.95c.2,4.36,2.62,6.78,7,7C8.33,24,8.74,24,12,24s3.67,0,4.95-.07c4.35-.2,6.78-2.62,7-7C24,15.67,24,15.26,24,12s0-3.67-.07-4.95c-.2-4.35-2.62-6.78-7-7C15.67,0,15.26,0,12,0Zm0,5.84A6.16,6.16,0,1,0,18.16,12,6.16,6.16,0,0,0,12,5.84ZM12,16a4,4,0,1,1,4-4A4,4,0,0,1,12,16ZM18.41,4.15a1.44,1.44,0,1,0,1.44,1.44A1.44,1.44,0,0,0,18.41,4.15Z"/></svg>
        </a>
        <a href="https://www.yelp.com/biz/gimos-roofing-jacksonville" target="_blank" rel="noopener noreferrer" class="hover:text-primary transition-colors" aria-label="Yelp">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M20.16,12.73l-3.88.67a.63.63,0,0,0-.37,1l2.45,3.12a.62.62,0,0,0,1-.07l1.41-3.72A.62.62,0,0,0,20.16,12.73Zm-1.54,6.27-2.34-3a.63.63,0,0,0-1.06.18l-1.3,3.77a.62.62,0,0,0,.69.83l3.64-.68A.63.63,0,0,0,18.62,19Zm-6.48,1.44L11,16.77a.62.62,0,0,0-1-.27l-2.9,2.56a.62.62,0,0,0,.27,1.06l3.72.67A.62.62,0,0,0,12.14,20.44ZM8.23,15.25l1.33-3.77a.63.63,0,0,0-.65-.84l-3.84.57a.62.62,0,0,0-.36,1l2.46,3.24A.62.62,0,0,0,8.23,15.25Zm1.68-8.08,2.48,7.23a.62.62,0,0,0,1,.27L19,9.49a.62.62,0,0,0-.28-1.06L10.6,6.72A.62.62,0,0,0,9.91,7.17Z"/></svg>
        </a>
      </div>
    </div>
  </div>

  <!-- Main Navigation -->
  <nav class="bg-white shadow-md transition-all duration-300" id="main-nav">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex justify-between items-center h-20">
        <!-- Logo -->
        <a href="/" class="flex items-center">
          <img src="/gimos-roofing-logo.webp" alt="Gimo's Roofing - Jacksonville FL Roofing Company" class="h-14 w-auto" />
        </a>

        <!-- Desktop Navigation -->
        <div class="hidden lg:flex items-center gap-1">
          {navLinks.map((link) => (
            <div class="relative group">
              <a
                href={link.href}
                class="px-4 py-2 text-gray-700 hover:text-primary font-medium transition-colors flex items-center gap-1"
              >
                {link.name}
                {link.hasDropdown && (
                  <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                  </svg>
                )}
              </a>
              {link.hasDropdown && (
                <div class="absolute top-full left-0 w-56 bg-white shadow-xl rounded-lg py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform translate-y-2 group-hover:translate-y-0">
                  <div class="px-4 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wider">Roofing</div>
                  {roofingLinks.map((service) => (
                    <a
                      href={service.href}
                      class="block px-4 py-2 text-gray-700 hover:bg-primary/10 hover:text-primary transition-colors"
                    >
                      {service.name}
                    </a>
                  ))}
                  <div class="border-t border-gray-100 my-2"></div>
                  <div class="px-4 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wider">Siding</div>
                  {sidingLinks.map((service) => (
                    <a
                      href={service.href}
                      class="block px-4 py-2 text-gray-700 hover:bg-primary/10 hover:text-primary transition-colors"
                    >
                      {service.name}
                    </a>
                  ))}
                </div>
              )}
            </div>
          ))}
        </div>

        <!-- CTA Button -->
        <div class="hidden lg:flex items-center gap-4">
          <a href="https://app.roofr.com/instant-estimator/4db598a1-7ca9-4594-a916-031741fecbfc/GimosRoofing" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
            Free Estimate
          </a>
        </div>

        <!-- Mobile Menu Button -->
        <button
          class="lg:hidden p-2 text-gray-700 hover:text-primary"
          id="mobile-menu-btn"
          aria-label="Toggle menu"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" id="menu-icon">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <svg class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" id="close-icon">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="lg:hidden hidden bg-white border-t" id="mobile-menu">
      <div class="px-4 py-2">
        {navLinks.map((link) => (
          <div>
            <a
              href={link.href}
              class="block py-3 text-gray-700 hover:text-primary font-medium border-b border-gray-100"
            >
              {link.name}
            </a>
            {link.hasDropdown && (
              <div class="pl-4">
                <div class="py-1 text-xs font-semibold text-gray-400 uppercase tracking-wider">Roofing</div>
                {roofingLinks.map((service) => (
                  <a
                    href={service.href}
                    class="block py-2 text-gray-600 hover:text-primary text-sm"
                  >
                    {service.name}
                  </a>
                ))}
                <div class="py-1 text-xs font-semibold text-gray-400 uppercase tracking-wider mt-2">Siding</div>
                {sidingLinks.map((service) => (
                  <a
                    href={service.href}
                    class="block py-2 text-gray-600 hover:text-primary text-sm"
                  >
                    {service.name}
                  </a>
                ))}
              </div>
            )}
          </div>
        ))}
        <div class="py-4">
          <a href="https://app.roofr.com/instant-estimator/4db598a1-7ca9-4594-a916-031741fecbfc/GimosRoofing" target="_blank" rel="noopener noreferrer" class="btn btn-primary w-full justify-center">
            Free Estimate
          </a>
        </div>
      </div>
    </div>
  </nav>
</header>

<!-- Spacer for fixed header - reduced on mobile since hero extends under header -->
<div class="h-0 md:h-28"></div>

<!-- Mobile Emergency Call Button - Sticky Bottom -->
<div class="fixed bottom-0 left-0 right-0 z-50 lg:hidden bg-gradient-to-t from-secondary to-secondary/95 p-3 shadow-lg" id="mobile-cta">
  <a
    href="tel:+19046065313"
    class="flex items-center justify-center gap-3 w-full bg-primary text-secondary font-bold py-4 px-6 rounded-xl text-lg touch-manipulation active:scale-95 transition-transform"
    style="min-height: 56px;"
  >
    <svg class="w-6 h-6 animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
    </svg>
    <span>Call Now - (904) 606-5313</span>
  </a>
  <p class="text-center text-white/70 text-xs mt-2">24/7 Emergency Storm Response</p>
</div>


<script>
  // Mobile menu toggle
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuIcon = document.getElementById('menu-icon');
  const closeIcon = document.getElementById('close-icon');

  mobileMenuBtn?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
    menuIcon?.classList.toggle('hidden');
    closeIcon?.classList.toggle('hidden');
  });

  // Header scroll effect
  const header = document.getElementById('main-header');
  const nav = document.getElementById('main-nav');

  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      header?.classList.add('shadow-lg');
      nav?.classList.add('py-2');
    } else {
      header?.classList.remove('shadow-lg');
      nav?.classList.remove('py-2');
    }
  });
</script>